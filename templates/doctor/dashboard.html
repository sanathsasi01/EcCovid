{% extends 'base.html' %}

{% block content %}

    <!-- navbar -->
    <div id="dashboard-container">
        <nav class="navbar navbar-expand-lg navbar-light nav">
            <a class="navbar-brand navbar-logo" href="#"
              ><img src="/static/images/updated_logo.png" style="width: 167.31px; height: 73.33px"
            /></a>
            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
      
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active px-5">
                  <a class="nav-link highlight" href="#">
                    View Patient List <span class="sr-only">(current)</span></a
                  >
                </li>
      
                <li class="nav-item active px-5">
                  <a class="nav-link" href="#"
                    >Add New Patient List </a
                  >
                </li>
      
                <li class="nav-item active px-5">
                  <a class="nav-link" href="#"
                    >Daily Report </a
                  >
                </li>
              </ul>
              <form class="form-inline my-2 my-lg-0 search-box">
                <input
                  class="form-control mr-sm-2"
                  type="search"
                  placeholder="Search"
                  aria-label="Search"
                />
                <!-- <button class="btn btn-outline-success my-2 my-sm-0" type="submit">
                  Search
                </button> -->
              </form>
            </div>
          </nav>
      
          <div
            class="container-fluid d-flex flex-column justify-content-center align-items-center pt-5"
          >
            <div class="row">
              <div class="col">
                <div class="card">
                  <div class="card-body text-center">
                    <p class="bed-text font-weight-bold">Total Bed Free<br /></p>
                    <p class="number-text" id="totalbedsFree">
                      <!-- available free total beds -->
                      {{totalbedsFree}}
                      <!-- 200 -->
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="p-2">
              {% for msg in messages %}
                <p class="text-center text-danger"> {{msg}} </p>
              {% endfor %}
            </div>
            <div class="row pt-3">
              <div
                class="col d-flex flex-column justify-content-center align-items-center px-4"
              >
                <p class="font-weight-bold" id="ventilator"> {{ventilator}} </p>
                <p>Ventilator</p>
              </div>
              <div
                class="col d-flex flex-column justify-content-center align-items-center px-4"
              >
                <p class="font-weight-bold" id="hfnc"> {{hfnc}} </p>
                <p>HFNC</p>
              </div>
              <div
                class="col d-flex flex-column justify-content-center align-items-center px-4"
              >
                <p class="font-weight-bold" id="oxygen"> {{oxygen}} </p>
                <p>oxygen</p>
              </div>
              <div
                class="col d-flex flex-column justify-content-center align-items-center px-4"
              >
                <p class="font-weight-bold" id="ward"> {{ward}} </p>
                <p>Ward</p>
              </div>
            </div>
          </div>
      
          <table >
            <!-- table -->
            <tr>
              <th>SL NO</th>
              <th>NAME</th>
              <th>AGE</th>
      
              <th>SEX</th>
      
              <th>ROOM TYPE</th>
      
              <th>DATE OF ADMISSION</th>
      
              <th>CRITICALITY</th>
              <th>DAILY CASE SHEET</th>
              <th>DEATH REPORT</th>
            </tr>
            
            {% for patient in patients %}
              <tr class="row-spacer"></tr>
              <tr id="table-row">
                <td>{{forloop.counter}}</td>
                <td>{{patient.name}}</td>
                <td>{{patient.age}}</td>
                <td>{{patient.sex}}</td>
                <td>
                  <!--  modification done-->
                    {% if patient.bed.name == 'ward' %}
                      <select name="room_type" class="select_roomtype">
                        <option value='ward' selected>Ward</option>
                        <option value='oxygen'>Oxygen</option>
                        <option value='ventilator'>Ventilator</option>
                        <option value='hfnc'>HFNC</option>
                      </select>
                      <span class="patientid">{{patient.id}}</span>
                    {% elif  patient.bed.name == 'oxygen' %}
                      <select name="room_type" class="select_roomtype">                    
                        <option value='ward'>Ward</option>
                        <option value='oxygen' selected>Oxygen</option>
                        <option value='ventilator'>Ventilator</option>
                        <option value='hfnc'>HCNF</option>
                      </select>
                      <span class="patientid">{{patient.id}}</span>
                    {% elif  patient.bed.name == 'ventilator' %}
                      <select name="room_type" class="select_roomtype">
                        <option value='ward'>Ward</option>
                        <option value='oxygen'>Oxygen</option>
                        <option value='ventilator' selected>Ventilator</option>
                        <option value='hfnc'>HFNC</option>
                      </select>
                      <span class="patientid">{{patient.id}}</span>
                    {% elif patient.bed.name == 'hfnc' %}
                      <select name="room_type" class="select_roomtype">
                        <option value='ward' >Ward</option>
                        <option value='oxygen'>Oxygen</option>
                        <option value='ventilator'>Ventilator</option>
                        <option value='hfnc' selected>HFNC</option>
                      </select>
                      <span class="patientid">{{patient.id}}</span>
                    {% else %}
                    <select name="room_type" class="select_roomtype">
                      <option selected disabled>select </option>
                      <option value='ward'>Ward</option>
                      <option value='oxygen'>Oxygen</option>
                      <option value='ventilator'>Ventilator</option>
                      <option value='hfnc'>HCNF</option>
                    </select>
                    <span class="patientid"> {{patient.id}} </span>
                    {% endif %}

                </td>
        
                <td> {{patient.dateAdmitted|date:"m/d/Y"}} </td>
                <td>
                  <!-- {% if patient.criticallity == 'warning'  %}
                    <p>wrninc</p>
                  {% endif %}
                   -->
                    {% if patient.criticallity == 'recovered'  %}
                      <select name="criticality" id="select" class="criticality">
                        <option value="recovered" class="green" selected>recovered</option>
                        <option value="warning" class="yellow">warning</option>
                        <option value="critical" class="red">critical</option>
                      </select>   
                      <span class="patientid">{{patient.id}}</span>

                    {% elif patient.criticallity == 'warning'  %}
                      <select name="criticality" id="select" class="criticality">
                        <option value="recovered" class="green">recovered</option>
                        <option value="warning" class="yellow" selected >warning</option>
                        <option value="critical" class="red">critical</option>
                      </select>
                      <span class="patientid">{{patient.id}}</span>

                    {% else %}
                        <select name="criticality" id="select" class="criticality">
                          <option value="recovered" class="green text-success" selected>recovered</option>
                          <option value="warning" class="yellow text-warning">warning</option>
                          <option value="danger" class="red text-danger" selected>critical</option>
                        </select>
                        <span class="patientid">{{patient.id}}</span>
                    {% endif %}
                </td>
                <td>
                  <div id="dashboard-table-container" class="py-3">
                    <div class="row">
                      <div class="col-lg-12">
                        <div class="button-group p-0">
                          <button
                            type="button"
                            class="btn btn-default btn-sm dropdown-toggle"
                            data-toggle="dropdown"
                          >
                            <span>Select Day</span> <span class="caret"></span>
                          </button>
                          <ul class="dropdown-menu">
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option1"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 1</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option2"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 2</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option3"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 3</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option4"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 4</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option5"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 5</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option6"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 6</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option1"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 7</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option2"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 8</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option3"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 9</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option4"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 10</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option5"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 11</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option6"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 12</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option1"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 13</a
                              >
                            </li>
                            <li>
                              <a
                                href="#"
                                class="small"
                                data-value="option2"
                                tabindex="-1"
                                ><input type="checkbox" />&nbsp;Day 14</a
                              >
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </td>
                <td>
                  {% if patient.expired %}
                    <button class="btn-1 death-report">GENERATE DEATH REPORT</button>
                    <span class="patientid"> {{patient.id}} </span>
                  {% else %}  
                    <button class="btn-1">Expired</button>
                    <span class="patientid"> {{patient.id}} </span>
                  {% endif %}
                </td>
              </tr>
            {% endfor %}
          </table>
      
    </div>

{% endblock %}